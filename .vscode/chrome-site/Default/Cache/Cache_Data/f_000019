import { createHotContext as __vite__createHotContext } from "/@vite/client";import.meta.hot = __vite__createHotContext("/src/pages/users/SiteUsersPage.tsx");import __vite__cjsImport0_react_jsxDevRuntime from "/node_modules/.vite/deps/react_jsx-dev-runtime.js?v=46037ee7"; const jsxDEV = __vite__cjsImport0_react_jsxDevRuntime["jsxDEV"];
import * as RefreshRuntime from "/@react-refresh";
const inWebWorker = typeof WorkerGlobalScope !== "undefined" && self instanceof WorkerGlobalScope;
let prevRefreshReg;
let prevRefreshSig;
if (import.meta.hot && !inWebWorker) {
  if (!window.$RefreshReg$) {
    throw new Error(
      "@vitejs/plugin-react can't detect preamble. Something is wrong."
    );
  }
  prevRefreshReg = window.$RefreshReg$;
  prevRefreshSig = window.$RefreshSig$;
  window.$RefreshReg$ = RefreshRuntime.getRefreshReg("D:/Proyects/emplyx/Emplyx.Site/src/pages/users/SiteUsersPage.tsx");
  window.$RefreshSig$ = RefreshRuntime.createSignatureFunctionForTransform;
}
var _s = $RefreshSig$();
import __vite__cjsImport3_react from "/node_modules/.vite/deps/react.js?v=46037ee7"; const useEffect = __vite__cjsImport3_react["useEffect"]; const useState = __vite__cjsImport3_react["useState"];
import { useNavigate } from "/node_modules/.vite/deps/react-router-dom.js?v=46037ee7";
import { Plus, Search, Edit, Trash2, User as UserIcon, CheckCircle, XCircle } from "/node_modules/.vite/deps/lucide-react.js?v=46037ee7";
const SiteUsersPage = () => {
  _s();
  const navigate = useNavigate();
  const [users, setUsers] = useState([]);
  const [isLoading, setIsLoading] = useState(false);
  const [searchTerm, setSearchTerm] = useState("");
  const [activeTab, setActiveTab] = useState("users");
  const mockUsers = [
    {
      id: "1",
      username: "siteadmin",
      email: "admin@emplyx.site",
      fullName: "Site Administrator",
      isActive: true,
      roles: ["Site Admin"],
      lastLogin: "2023-10-25T10:30:00"
    },
    {
      id: "2",
      username: "sitecollab",
      email: "collab@emplyx.site",
      fullName: "Site Collaborator",
      isActive: true,
      roles: ["Site Collaborator"],
      lastLogin: "2023-10-24T15:45:00"
    }
  ];
  useEffect(() => {
    fetchUsers();
  }, []);
  const fetchUsers = async () => {
    setIsLoading(true);
    try {
      const response = await fetch("https://localhost:5001/api/users");
      if (response.ok) {
        const data = await response.json();
        const mappedUsers = data.map((u) => ({
          id: u.id,
          username: u.userName,
          email: u.email,
          fullName: u.displayName || `${u.perfil?.nombres || ""} ${u.perfil?.apellidos || ""}`.trim(),
          isActive: u.isActive,
          roles: u.roles.map((r) => {
            if (r.rolId === "11111111-1111-1111-1111-111111111111") return "Site Admin";
            if (r.rolId === "22222222-2222-2222-2222-222222222222") return "Site Collaborator";
            return "Unknown Role";
          }),
          lastLogin: u.lastLoginAtUtc
        }));
        setUsers(mappedUsers);
      }
    } catch (error) {
      console.error("Error fetching users:", error);
    } finally {
      setIsLoading(false);
    }
  };
  const handleDelete = async (id) => {
    if (!confirm("¿Estás seguro de que deseas eliminar este usuario del site?")) return;
    alert("La eliminación de usuarios no está implementada en el backend actualmente.");
  };
  const filteredUsers = users.filter(
    (user) => user.fullName.toLowerCase().includes(searchTerm.toLowerCase()) || user.email.toLowerCase().includes(searchTerm.toLowerCase()) || user.username.toLowerCase().includes(searchTerm.toLowerCase())
  );
  return /* @__PURE__ */ jsxDEV("div", { className: "p-6 h-[calc(100vh-4rem)] flex flex-col", children: [
    /* @__PURE__ */ jsxDEV("div", { className: "mb-6", children: [
      /* @__PURE__ */ jsxDEV("h1", { className: "text-2xl font-bold text-gray-900", children: "Usuarios del Site" }, void 0, false, {
        fileName: "D:/Proyects/emplyx/Emplyx.Site/src/pages/users/SiteUsersPage.tsx",
        lineNumber: 108,
        columnNumber: 9
      }, this),
      /* @__PURE__ */ jsxDEV("p", { className: "text-gray-500", children: "Gestiona los usuarios con acceso a la administración del site" }, void 0, false, {
        fileName: "D:/Proyects/emplyx/Emplyx.Site/src/pages/users/SiteUsersPage.tsx",
        lineNumber: 109,
        columnNumber: 9
      }, this)
    ] }, void 0, true, {
      fileName: "D:/Proyects/emplyx/Emplyx.Site/src/pages/users/SiteUsersPage.tsx",
      lineNumber: 107,
      columnNumber: 7
    }, this),
    /* @__PURE__ */ jsxDEV("div", { className: "flex gap-6 border-b border-gray-200 mb-6", children: /* @__PURE__ */ jsxDEV(
      "button",
      {
        onClick: () => setActiveTab("users"),
        className: `pb-3 px-1 text-sm font-medium transition-colors relative ${activeTab === "users" ? "text-indigo-600 border-b-2 border-indigo-600" : "text-gray-500 hover:text-gray-700"}`,
        children: "Usuarios"
      },
      void 0,
      false,
      {
        fileName: "D:/Proyects/emplyx/Emplyx.Site/src/pages/users/SiteUsersPage.tsx",
        lineNumber: 114,
        columnNumber: 9
      },
      this
    ) }, void 0, false, {
      fileName: "D:/Proyects/emplyx/Emplyx.Site/src/pages/users/SiteUsersPage.tsx",
      lineNumber: 113,
      columnNumber: 7
    }, this),
    activeTab === "users" && /* @__PURE__ */ jsxDEV("div", { className: "bg-white rounded-xl shadow-sm border border-gray-100 flex-1 flex flex-col overflow-hidden", children: [
      /* @__PURE__ */ jsxDEV("div", { className: "p-4 border-b border-gray-100 flex gap-4 justify-between items-center", children: [
        /* @__PURE__ */ jsxDEV("div", { className: "relative flex-1 max-w-md", children: [
          /* @__PURE__ */ jsxDEV(Search, { className: "absolute left-3 top-1/2 -translate-y-1/2 text-gray-400", size: 20 }, void 0, false, {
            fileName: "D:/Proyects/emplyx/Emplyx.Site/src/pages/users/SiteUsersPage.tsx",
            lineNumber: 130,
            columnNumber: 15
          }, this),
          /* @__PURE__ */ jsxDEV(
            "input",
            {
              type: "text",
              placeholder: "Buscar usuarios...",
              value: searchTerm,
              onChange: (e) => setSearchTerm(e.target.value),
              className: "w-full pl-10 pr-4 py-2 border border-gray-200 rounded-lg focus:outline-none focus:ring-2 focus:ring-indigo-500"
            },
            void 0,
            false,
            {
              fileName: "D:/Proyects/emplyx/Emplyx.Site/src/pages/users/SiteUsersPage.tsx",
              lineNumber: 131,
              columnNumber: 15
            },
            this
          )
        ] }, void 0, true, {
          fileName: "D:/Proyects/emplyx/Emplyx.Site/src/pages/users/SiteUsersPage.tsx",
          lineNumber: 129,
          columnNumber: 13
        }, this),
        /* @__PURE__ */ jsxDEV(
          "button",
          {
            onClick: () => navigate("/usuarios/nuevo"),
            className: "flex items-center gap-2 px-4 py-2 bg-indigo-600 text-white rounded-lg hover:bg-indigo-700 transition-colors",
            children: [
              /* @__PURE__ */ jsxDEV(Plus, { size: 20 }, void 0, false, {
                fileName: "D:/Proyects/emplyx/Emplyx.Site/src/pages/users/SiteUsersPage.tsx",
                lineNumber: 143,
                columnNumber: 15
              }, this),
              "Nuevo Usuario"
            ]
          },
          void 0,
          true,
          {
            fileName: "D:/Proyects/emplyx/Emplyx.Site/src/pages/users/SiteUsersPage.tsx",
            lineNumber: 139,
            columnNumber: 13
          },
          this
        )
      ] }, void 0, true, {
        fileName: "D:/Proyects/emplyx/Emplyx.Site/src/pages/users/SiteUsersPage.tsx",
        lineNumber: 128,
        columnNumber: 11
      }, this),
      /* @__PURE__ */ jsxDEV("div", { className: "overflow-y-auto flex-1", children: /* @__PURE__ */ jsxDEV("table", { className: "w-full text-left border-collapse", children: [
        /* @__PURE__ */ jsxDEV("thead", { className: "bg-gray-50 sticky top-0 z-10", children: /* @__PURE__ */ jsxDEV("tr", { children: [
          /* @__PURE__ */ jsxDEV("th", { className: "px-6 py-3 text-xs font-medium text-gray-500 uppercase tracking-wider", children: "Usuario" }, void 0, false, {
            fileName: "D:/Proyects/emplyx/Emplyx.Site/src/pages/users/SiteUsersPage.tsx",
            lineNumber: 152,
            columnNumber: 19
          }, this),
          /* @__PURE__ */ jsxDEV("th", { className: "px-6 py-3 text-xs font-medium text-gray-500 uppercase tracking-wider", children: "Roles" }, void 0, false, {
            fileName: "D:/Proyects/emplyx/Emplyx.Site/src/pages/users/SiteUsersPage.tsx",
            lineNumber: 153,
            columnNumber: 19
          }, this),
          /* @__PURE__ */ jsxDEV("th", { className: "px-6 py-3 text-xs font-medium text-gray-500 uppercase tracking-wider", children: "Estado" }, void 0, false, {
            fileName: "D:/Proyects/emplyx/Emplyx.Site/src/pages/users/SiteUsersPage.tsx",
            lineNumber: 154,
            columnNumber: 19
          }, this),
          /* @__PURE__ */ jsxDEV("th", { className: "px-6 py-3 text-xs font-medium text-gray-500 uppercase tracking-wider", children: "Último Acceso" }, void 0, false, {
            fileName: "D:/Proyects/emplyx/Emplyx.Site/src/pages/users/SiteUsersPage.tsx",
            lineNumber: 155,
            columnNumber: 19
          }, this),
          /* @__PURE__ */ jsxDEV("th", { className: "px-6 py-3 text-xs font-medium text-gray-500 uppercase tracking-wider text-right", children: "Acciones" }, void 0, false, {
            fileName: "D:/Proyects/emplyx/Emplyx.Site/src/pages/users/SiteUsersPage.tsx",
            lineNumber: 156,
            columnNumber: 19
          }, this)
        ] }, void 0, true, {
          fileName: "D:/Proyects/emplyx/Emplyx.Site/src/pages/users/SiteUsersPage.tsx",
          lineNumber: 151,
          columnNumber: 17
        }, this) }, void 0, false, {
          fileName: "D:/Proyects/emplyx/Emplyx.Site/src/pages/users/SiteUsersPage.tsx",
          lineNumber: 150,
          columnNumber: 15
        }, this),
        /* @__PURE__ */ jsxDEV("tbody", { className: "divide-y divide-gray-100", children: isLoading ? /* @__PURE__ */ jsxDEV("tr", { children: /* @__PURE__ */ jsxDEV("td", { colSpan: 5, className: "px-6 py-8 text-center text-gray-500", children: "Cargando usuarios..." }, void 0, false, {
          fileName: "D:/Proyects/emplyx/Emplyx.Site/src/pages/users/SiteUsersPage.tsx",
          lineNumber: 162,
          columnNumber: 21
        }, this) }, void 0, false, {
          fileName: "D:/Proyects/emplyx/Emplyx.Site/src/pages/users/SiteUsersPage.tsx",
          lineNumber: 161,
          columnNumber: 15
        }, this) : filteredUsers.length === 0 ? /* @__PURE__ */ jsxDEV("tr", { children: /* @__PURE__ */ jsxDEV("td", { colSpan: 5, className: "px-6 py-8 text-center text-gray-500", children: "No se encontraron usuarios" }, void 0, false, {
          fileName: "D:/Proyects/emplyx/Emplyx.Site/src/pages/users/SiteUsersPage.tsx",
          lineNumber: 166,
          columnNumber: 21
        }, this) }, void 0, false, {
          fileName: "D:/Proyects/emplyx/Emplyx.Site/src/pages/users/SiteUsersPage.tsx",
          lineNumber: 165,
          columnNumber: 15
        }, this) : filteredUsers.map(
          (user) => /* @__PURE__ */ jsxDEV("tr", { className: "hover:bg-gray-50 transition-colors", children: [
            /* @__PURE__ */ jsxDEV("td", { className: "px-6 py-4 whitespace-nowrap", children: /* @__PURE__ */ jsxDEV("div", { className: "flex items-center gap-3", children: [
              /* @__PURE__ */ jsxDEV("div", { className: "p-2 rounded-full bg-indigo-50 text-indigo-600", children: /* @__PURE__ */ jsxDEV(UserIcon, { size: 20 }, void 0, false, {
                fileName: "D:/Proyects/emplyx/Emplyx.Site/src/pages/users/SiteUsersPage.tsx",
                lineNumber: 174,
                columnNumber: 29
              }, this) }, void 0, false, {
                fileName: "D:/Proyects/emplyx/Emplyx.Site/src/pages/users/SiteUsersPage.tsx",
                lineNumber: 173,
                columnNumber: 27
              }, this),
              /* @__PURE__ */ jsxDEV("div", { children: [
                /* @__PURE__ */ jsxDEV("div", { className: "font-medium text-gray-900", children: user.fullName }, void 0, false, {
                  fileName: "D:/Proyects/emplyx/Emplyx.Site/src/pages/users/SiteUsersPage.tsx",
                  lineNumber: 177,
                  columnNumber: 29
                }, this),
                /* @__PURE__ */ jsxDEV("div", { className: "text-sm text-gray-500", children: user.email }, void 0, false, {
                  fileName: "D:/Proyects/emplyx/Emplyx.Site/src/pages/users/SiteUsersPage.tsx",
                  lineNumber: 178,
                  columnNumber: 29
                }, this)
              ] }, void 0, true, {
                fileName: "D:/Proyects/emplyx/Emplyx.Site/src/pages/users/SiteUsersPage.tsx",
                lineNumber: 176,
                columnNumber: 27
              }, this)
            ] }, void 0, true, {
              fileName: "D:/Proyects/emplyx/Emplyx.Site/src/pages/users/SiteUsersPage.tsx",
              lineNumber: 172,
              columnNumber: 25
            }, this) }, void 0, false, {
              fileName: "D:/Proyects/emplyx/Emplyx.Site/src/pages/users/SiteUsersPage.tsx",
              lineNumber: 171,
              columnNumber: 23
            }, this),
            /* @__PURE__ */ jsxDEV("td", { className: "px-6 py-4", children: /* @__PURE__ */ jsxDEV("div", { className: "flex flex-wrap gap-1", children: user.roles.map(
              (role, index) => /* @__PURE__ */ jsxDEV("span", { className: "px-2 py-1 text-xs font-medium bg-gray-100 text-gray-600 rounded-full", children: role }, index, false, {
                fileName: "D:/Proyects/emplyx/Emplyx.Site/src/pages/users/SiteUsersPage.tsx",
                lineNumber: 185,
                columnNumber: 21
              }, this)
            ) }, void 0, false, {
              fileName: "D:/Proyects/emplyx/Emplyx.Site/src/pages/users/SiteUsersPage.tsx",
              lineNumber: 183,
              columnNumber: 25
            }, this) }, void 0, false, {
              fileName: "D:/Proyects/emplyx/Emplyx.Site/src/pages/users/SiteUsersPage.tsx",
              lineNumber: 182,
              columnNumber: 23
            }, this),
            /* @__PURE__ */ jsxDEV("td", { className: "px-6 py-4 whitespace-nowrap", children: /* @__PURE__ */ jsxDEV("div", { className: `flex items-center gap-1.5 text-sm ${user.isActive ? "text-green-600" : "text-red-600"}`, children: [
              user.isActive ? /* @__PURE__ */ jsxDEV(CheckCircle, { size: 16 }, void 0, false, {
                fileName: "D:/Proyects/emplyx/Emplyx.Site/src/pages/users/SiteUsersPage.tsx",
                lineNumber: 193,
                columnNumber: 44
              }, this) : /* @__PURE__ */ jsxDEV(XCircle, { size: 16 }, void 0, false, {
                fileName: "D:/Proyects/emplyx/Emplyx.Site/src/pages/users/SiteUsersPage.tsx",
                lineNumber: 193,
                columnNumber: 72
              }, this),
              user.isActive ? "Activo" : "Inactivo"
            ] }, void 0, true, {
              fileName: "D:/Proyects/emplyx/Emplyx.Site/src/pages/users/SiteUsersPage.tsx",
              lineNumber: 192,
              columnNumber: 25
            }, this) }, void 0, false, {
              fileName: "D:/Proyects/emplyx/Emplyx.Site/src/pages/users/SiteUsersPage.tsx",
              lineNumber: 191,
              columnNumber: 23
            }, this),
            /* @__PURE__ */ jsxDEV("td", { className: "px-6 py-4 whitespace-nowrap text-sm text-gray-500", children: user.lastLogin ? new Date(user.lastLogin).toLocaleDateString() : "Nunca" }, void 0, false, {
              fileName: "D:/Proyects/emplyx/Emplyx.Site/src/pages/users/SiteUsersPage.tsx",
              lineNumber: 197,
              columnNumber: 23
            }, this),
            /* @__PURE__ */ jsxDEV("td", { className: "px-6 py-4 whitespace-nowrap text-right", children: /* @__PURE__ */ jsxDEV("div", { className: "flex items-center justify-end gap-2", children: [
              /* @__PURE__ */ jsxDEV(
                "button",
                {
                  onClick: () => navigate(`/usuarios/editar/${user.id}`),
                  className: "p-2 text-gray-400 hover:text-indigo-600 hover:bg-indigo-50 rounded-lg transition-colors",
                  title: "Editar",
                  children: /* @__PURE__ */ jsxDEV(Edit, { size: 18 }, void 0, false, {
                    fileName: "D:/Proyects/emplyx/Emplyx.Site/src/pages/users/SiteUsersPage.tsx",
                    lineNumber: 207,
                    columnNumber: 29
                  }, this)
                },
                void 0,
                false,
                {
                  fileName: "D:/Proyects/emplyx/Emplyx.Site/src/pages/users/SiteUsersPage.tsx",
                  lineNumber: 202,
                  columnNumber: 27
                },
                this
              ),
              /* @__PURE__ */ jsxDEV(
                "button",
                {
                  onClick: () => handleDelete(user.id),
                  className: "p-2 text-gray-400 hover:text-red-600 hover:bg-red-50 rounded-lg transition-colors",
                  title: "Eliminar",
                  children: /* @__PURE__ */ jsxDEV(Trash2, { size: 18 }, void 0, false, {
                    fileName: "D:/Proyects/emplyx/Emplyx.Site/src/pages/users/SiteUsersPage.tsx",
                    lineNumber: 214,
                    columnNumber: 29
                  }, this)
                },
                void 0,
                false,
                {
                  fileName: "D:/Proyects/emplyx/Emplyx.Site/src/pages/users/SiteUsersPage.tsx",
                  lineNumber: 209,
                  columnNumber: 27
                },
                this
              )
            ] }, void 0, true, {
              fileName: "D:/Proyects/emplyx/Emplyx.Site/src/pages/users/SiteUsersPage.tsx",
              lineNumber: 201,
              columnNumber: 25
            }, this) }, void 0, false, {
              fileName: "D:/Proyects/emplyx/Emplyx.Site/src/pages/users/SiteUsersPage.tsx",
              lineNumber: 200,
              columnNumber: 23
            }, this)
          ] }, user.id, true, {
            fileName: "D:/Proyects/emplyx/Emplyx.Site/src/pages/users/SiteUsersPage.tsx",
            lineNumber: 170,
            columnNumber: 15
          }, this)
        ) }, void 0, false, {
          fileName: "D:/Proyects/emplyx/Emplyx.Site/src/pages/users/SiteUsersPage.tsx",
          lineNumber: 159,
          columnNumber: 15
        }, this)
      ] }, void 0, true, {
        fileName: "D:/Proyects/emplyx/Emplyx.Site/src/pages/users/SiteUsersPage.tsx",
        lineNumber: 149,
        columnNumber: 13
      }, this) }, void 0, false, {
        fileName: "D:/Proyects/emplyx/Emplyx.Site/src/pages/users/SiteUsersPage.tsx",
        lineNumber: 148,
        columnNumber: 11
      }, this)
    ] }, void 0, true, {
      fileName: "D:/Proyects/emplyx/Emplyx.Site/src/pages/users/SiteUsersPage.tsx",
      lineNumber: 127,
      columnNumber: 7
    }, this)
  ] }, void 0, true, {
    fileName: "D:/Proyects/emplyx/Emplyx.Site/src/pages/users/SiteUsersPage.tsx",
    lineNumber: 106,
    columnNumber: 5
  }, this);
};
_s(SiteUsersPage, "RI+KngEvDytdhB4tMSvuajLu1lQ=", false, function() {
  return [useNavigate];
});
_c = SiteUsersPage;
export default SiteUsersPage;
var _c;
$RefreshReg$(_c, "SiteUsersPage");
if (import.meta.hot && !inWebWorker) {
  window.$RefreshReg$ = prevRefreshReg;
  window.$RefreshSig$ = prevRefreshSig;
}
if (import.meta.hot && !inWebWorker) {
  RefreshRuntime.__hmr_import(import.meta.url).then((currentExports) => {
    RefreshRuntime.registerExportsForReactRefresh("D:/Proyects/emplyx/Emplyx.Site/src/pages/users/SiteUsersPage.tsx", currentExports);
    import.meta.hot.accept((nextExports) => {
      if (!nextExports) return;
      const invalidateMessage = RefreshRuntime.validateRefreshBoundaryAndEnqueueUpdate("D:/Proyects/emplyx/Emplyx.Site/src/pages/users/SiteUsersPage.tsx", currentExports, nextExports);
      if (invalidateMessage) import.meta.hot.invalidate(invalidateMessage);
    });
  });
}

//# sourceMappingURL=data:application/json;base64,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QUFBO0FBQUE7QUFBQSxpQkFnREE7QUFBQSxRQUNELEtBNURMO0FBQUE7QUFBQTtBQUFBO0FBQUEsZUE4REE7QUFBQSxXQXhFRjtBQUFBO0FBQUE7QUFBQTtBQUFBLGFBeUVBLEtBMUVGO0FBQUE7QUFBQTtBQUFBO0FBQUEsYUEyRUE7QUFBQSxTQWhHRjtBQUFBO0FBQUE7QUFBQTtBQUFBLFdBaUdBO0FBQUEsT0F0SEo7QUFBQTtBQUFBO0FBQUE7QUFBQSxTQXdIQTtBQUVKO0FBQUVYLEdBM01JRCxlQUFhO0FBQUEsVUFDQVQsV0FBVztBQUFBO0FBQUFnRSxLQUR4QnZEO0FBNk1OLGVBQWVBO0FBQWMsSUFBQXVEO0FBQUFDLGFBQUFELElBQUEiLCJuYW1lcyI6WyJ1c2VFZmZlY3QiLCJ1c2VTdGF0ZSIsInVzZU5hdmlnYXRlIiwiUGx1cyIsIlNlYXJjaCIsIkVkaXQiLCJUcmFzaDIiLCJVc2VyIiwiVXNlckljb24iLCJDaGVja0NpcmNsZSIsIlhDaXJjbGUiLCJTaXRlVXNlcnNQYWdlIiwiX3MiLCJuYXZpZ2F0ZSIsInVzZXJzIiwic2V0VXNlcnMiLCJpc0xvYWRpbmciLCJzZXRJc0xvYWRpbmciLCJzZWFyY2hUZXJtIiwic2V0U2VhcmNoVGVybSIsImFjdGl2ZVRhYiIsInNldEFjdGl2ZVRhYiIsIm1vY2tVc2VycyIsImlkIiwidXNlcm5hbWUiLCJlbWFpbCIsImZ1bGxOYW1lIiwiaXNBY3RpdmUiLCJyb2xlcyIsImxhc3RMb2dpbiIsImZldGNoVXNlcnMiLCJyZXNwb25zZSIsImZldGNoIiwib2siLCJkYXRhIiwianNvbiIsIm1hcHBlZFVzZXJzIiwibWFwIiwidSIsInVzZXJOYW1lIiwiZGlzcGxheU5hbWUiLCJwZXJmaWwiLCJub21icmVzIiwiYXBlbGxpZG9zIiwidHJpbSIsInIiLCJyb2xJZCIsImxhc3RMb2dpbkF0VXRjIiwiZXJyb3IiLCJjb25zb2xlIiwiaGFuZGxlRGVsZXRlIiwiY29uZmlybSIsImFsZXJ0IiwiZmlsdGVyZWRVc2VycyIsImZpbHRlciIsInVzZXIiLCJ0b0xvd2VyQ2FzZSIsImluY2x1ZGVzIiwiZSIsInRhcmdldCIsInZhbHVlIiwibGVuZ3RoIiwicm9sZSIsImluZGV4IiwiRGF0ZSIsInRvTG9jYWxlRGF0ZVN0cmluZyIsIl9jIiwiJFJlZnJlc2hSZWckIl0sImlnbm9yZUxpc3QiOltdLCJzb3VyY2VzIjpbIlNpdGVVc2Vyc1BhZ2UudHN4Il0sInNvdXJjZXNDb250ZW50IjpbImltcG9ydCB7IHVzZUVmZmVjdCwgdXNlU3RhdGUgfSBmcm9tICdyZWFjdCc7XHJcbmltcG9ydCB7IHVzZU5hdmlnYXRlIH0gZnJvbSAncmVhY3Qtcm91dGVyLWRvbSc7XHJcbmltcG9ydCB7IFBsdXMsIFNlYXJjaCwgRWRpdCwgVHJhc2gyLCBVc2VyIGFzIFVzZXJJY29uLCBDaGVja0NpcmNsZSwgWENpcmNsZSB9IGZyb20gJ2x1Y2lkZS1yZWFjdCc7XHJcbmltcG9ydCB7IFVzZXIgfSBmcm9tICcuLi8uLi90eXBlcy91c2VyJztcclxuXHJcbmNvbnN0IFNpdGVVc2Vyc1BhZ2UgPSAoKSA9PiB7XHJcbiAgY29uc3QgbmF2aWdhdGUgPSB1c2VOYXZpZ2F0ZSgpO1xyXG4gIGNvbnN0IFt1c2Vycywgc2V0VXNlcnNdID0gdXNlU3RhdGU8VXNlcltdPihbXSk7XHJcbiAgY29uc3QgW2lzTG9hZGluZywgc2V0SXNMb2FkaW5nXSA9IHVzZVN0YXRlKGZhbHNlKTtcclxuICBjb25zdCBbc2VhcmNoVGVybSwgc2V0U2VhcmNoVGVybV0gPSB1c2VTdGF0ZSgnJyk7XHJcbiAgY29uc3QgW2FjdGl2ZVRhYiwgc2V0QWN0aXZlVGFiXSA9IHVzZVN0YXRlKCd1c2VycycpO1xyXG5cclxuICAvLyBNb2NrIGRhdGFcclxuICBjb25zdCBtb2NrVXNlcnM6IFVzZXJbXSA9IFtcclxuICAgIHsgXHJcbiAgICAgIGlkOiAnMScsIFxyXG4gICAgICB1c2VybmFtZTogJ3NpdGVhZG1pbicsIFxyXG4gICAgICBlbWFpbDogJ2FkbWluQGVtcGx5eC5zaXRlJywgXHJcbiAgICAgIGZ1bGxOYW1lOiAnU2l0ZSBBZG1pbmlzdHJhdG9yJywgXHJcbiAgICAgIGlzQWN0aXZlOiB0cnVlLCBcclxuICAgICAgcm9sZXM6IFsnU2l0ZSBBZG1pbiddLFxyXG4gICAgICBsYXN0TG9naW46ICcyMDIzLTEwLTI1VDEwOjMwOjAwJ1xyXG4gICAgfSxcclxuICAgIHsgXHJcbiAgICAgIGlkOiAnMicsIFxyXG4gICAgICB1c2VybmFtZTogJ3NpdGVjb2xsYWInLCBcclxuICAgICAgZW1haWw6ICdjb2xsYWJAZW1wbHl4LnNpdGUnLCBcclxuICAgICAgZnVsbE5hbWU6ICdTaXRlIENvbGxhYm9yYXRvcicsIFxyXG4gICAgICBpc0FjdGl2ZTogdHJ1ZSwgXHJcbiAgICAgIHJvbGVzOiBbJ1NpdGUgQ29sbGFib3JhdG9yJ10sXHJcbiAgICAgIGxhc3RMb2dpbjogJzIwMjMtMTAtMjRUMTU6NDU6MDAnXHJcbiAgICB9XHJcbiAgXTtcclxuXHJcbiAgdXNlRWZmZWN0KCgpID0+IHtcclxuICAgIGZldGNoVXNlcnMoKTtcclxuICB9LCBbXSk7XHJcblxyXG4gIGNvbnN0IGZldGNoVXNlcnMgPSBhc3luYyAoKSA9PiB7XHJcbiAgICBzZXRJc0xvYWRpbmcodHJ1ZSk7XHJcbiAgICB0cnkge1xyXG4gICAgICBjb25zdCByZXNwb25zZSA9IGF3YWl0IGZldGNoKCdodHRwczovL2xvY2FsaG9zdDo1MDAxL2FwaS91c2VycycpO1xyXG4gICAgICBpZiAocmVzcG9uc2Uub2spIHtcclxuICAgICAgICBjb25zdCBkYXRhID0gYXdhaXQgcmVzcG9uc2UuanNvbigpO1xyXG4gICAgICAgIC8vIE1hcCBiYWNrZW5kIERUTyB0byBmcm9udGVuZCBVc2VyIG1vZGVsXHJcbiAgICAgICAgY29uc3QgbWFwcGVkVXNlcnM6IFVzZXJbXSA9IGRhdGEubWFwKCh1OiBhbnkpID0+ICh7XHJcbiAgICAgICAgICBpZDogdS5pZCxcclxuICAgICAgICAgIHVzZXJuYW1lOiB1LnVzZXJOYW1lLFxyXG4gICAgICAgICAgZW1haWw6IHUuZW1haWwsXHJcbiAgICAgICAgICBmdWxsTmFtZTogdS5kaXNwbGF5TmFtZSB8fCBgJHt1LnBlcmZpbD8ubm9tYnJlcyB8fCAnJ30gJHt1LnBlcmZpbD8uYXBlbGxpZG9zIHx8ICcnfWAudHJpbSgpLFxyXG4gICAgICAgICAgaXNBY3RpdmU6IHUuaXNBY3RpdmUsXHJcbiAgICAgICAgICByb2xlczogdS5yb2xlcy5tYXAoKHI6IGFueSkgPT4ge1xyXG4gICAgICAgICAgICAvLyBNYXAgUm9sZSBJRHMgdG8gTmFtZXMgKFRlbXBvcmFyeSBtYXBwaW5nIHVudGlsIHdlIGhhdmUgYSBSb2xlcyBBUEkpXHJcbiAgICAgICAgICAgIGlmIChyLnJvbElkID09PSAnMTExMTExMTEtMTExMS0xMTExLTExMTEtMTExMTExMTExMTExJykgcmV0dXJuICdTaXRlIEFkbWluJztcclxuICAgICAgICAgICAgaWYgKHIucm9sSWQgPT09ICcyMjIyMjIyMi0yMjIyLTIyMjItMjIyMi0yMjIyMjIyMjIyMjInKSByZXR1cm4gJ1NpdGUgQ29sbGFib3JhdG9yJztcclxuICAgICAgICAgICAgcmV0dXJuICdVbmtub3duIFJvbGUnO1xyXG4gICAgICAgICAgfSksXHJcbiAgICAgICAgICBsYXN0TG9naW46IHUubGFzdExvZ2luQXRVdGNcclxuICAgICAgICB9KSk7XHJcbiAgICAgICAgc2V0VXNlcnMobWFwcGVkVXNlcnMpO1xyXG4gICAgICB9XHJcbiAgICB9IGNhdGNoIChlcnJvcikge1xyXG4gICAgICBjb25zb2xlLmVycm9yKCdFcnJvciBmZXRjaGluZyB1c2VyczonLCBlcnJvcik7XHJcbiAgICB9IGZpbmFsbHkge1xyXG4gICAgICBzZXRJc0xvYWRpbmcoZmFsc2UpO1xyXG4gICAgfVxyXG4gIH07XHJcblxyXG4gIGNvbnN0IGhhbmRsZURlbGV0ZSA9IGFzeW5jIChpZDogc3RyaW5nKSA9PiB7XHJcbiAgICBpZiAoIWNvbmZpcm0oJ8K/RXN0w6FzIHNlZ3VybyBkZSBxdWUgZGVzZWFzIGVsaW1pbmFyIGVzdGUgdXN1YXJpbyBkZWwgc2l0ZT8nKSkgcmV0dXJuO1xyXG4gICAgYWxlcnQoJ0xhIGVsaW1pbmFjacOzbiBkZSB1c3VhcmlvcyBubyBlc3TDoSBpbXBsZW1lbnRhZGEgZW4gZWwgYmFja2VuZCBhY3R1YWxtZW50ZS4nKTtcclxuICAgIC8vIHRyeSB7XHJcbiAgICAvLyAgIGF3YWl0IGZldGNoKGBodHRwczovL2xvY2FsaG9zdDo1MDAxL2FwaS91c2Vycy8ke2lkfWAsIHsgbWV0aG9kOiAnREVMRVRFJyB9KTtcclxuICAgIC8vICAgZmV0Y2hVc2VycygpO1xyXG4gICAgLy8gfSBjYXRjaCAoZXJyb3IpIHtcclxuICAgIC8vICAgY29uc29sZS5lcnJvcignRXJyb3IgZGVsZXRpbmcgdXNlcjonLCBlcnJvcik7XHJcbiAgICAvLyB9XHJcbiAgfTtcclxuXHJcbiAgY29uc3QgZmlsdGVyZWRVc2VycyA9IHVzZXJzLmZpbHRlcih1c2VyID0+IFxyXG4gICAgdXNlci5mdWxsTmFtZS50b0xvd2VyQ2FzZSgpLmluY2x1ZGVzKHNlYXJjaFRlcm0udG9Mb3dlckNhc2UoKSkgfHxcclxuICAgIHVzZXIuZW1haWwudG9Mb3dlckNhc2UoKS5pbmNsdWRlcyhzZWFyY2hUZXJtLnRvTG93ZXJDYXNlKCkpIHx8XHJcbiAgICB1c2VyLnVzZXJuYW1lLnRvTG93ZXJDYXNlKCkuaW5jbHVkZXMoc2VhcmNoVGVybS50b0xvd2VyQ2FzZSgpKVxyXG4gICk7XHJcblxyXG4gIHJldHVybiAoXHJcbiAgICA8ZGl2IGNsYXNzTmFtZT1cInAtNiBoLVtjYWxjKDEwMHZoLTRyZW0pXSBmbGV4IGZsZXgtY29sXCI+XHJcbiAgICAgIDxkaXYgY2xhc3NOYW1lPVwibWItNlwiPlxyXG4gICAgICAgIDxoMSBjbGFzc05hbWU9XCJ0ZXh0LTJ4bCBmb250LWJvbGQgdGV4dC1ncmF5LTkwMFwiPlVzdWFyaW9zIGRlbCBTaXRlPC9oMT5cclxuICAgICAgICA8cCBjbGFzc05hbWU9XCJ0ZXh0LWdyYXktNTAwXCI+R2VzdGlvbmEgbG9zIHVzdWFyaW9zIGNvbiBhY2Nlc28gYSBsYSBhZG1pbmlzdHJhY2nDs24gZGVsIHNpdGU8L3A+XHJcbiAgICAgIDwvZGl2PlxyXG5cclxuICAgICAgey8qIFRhYnMgKi99XHJcbiAgICAgIDxkaXYgY2xhc3NOYW1lPVwiZmxleCBnYXAtNiBib3JkZXItYiBib3JkZXItZ3JheS0yMDAgbWItNlwiPlxyXG4gICAgICAgIDxidXR0b25cclxuICAgICAgICAgIG9uQ2xpY2s9eygpID0+IHNldEFjdGl2ZVRhYigndXNlcnMnKX1cclxuICAgICAgICAgIGNsYXNzTmFtZT17YHBiLTMgcHgtMSB0ZXh0LXNtIGZvbnQtbWVkaXVtIHRyYW5zaXRpb24tY29sb3JzIHJlbGF0aXZlICR7XHJcbiAgICAgICAgICAgIGFjdGl2ZVRhYiA9PT0gJ3VzZXJzJyBcclxuICAgICAgICAgICAgICA/ICd0ZXh0LWluZGlnby02MDAgYm9yZGVyLWItMiBib3JkZXItaW5kaWdvLTYwMCcgXHJcbiAgICAgICAgICAgICAgOiAndGV4dC1ncmF5LTUwMCBob3Zlcjp0ZXh0LWdyYXktNzAwJ1xyXG4gICAgICAgICAgfWB9XHJcbiAgICAgICAgPlxyXG4gICAgICAgICAgVXN1YXJpb3NcclxuICAgICAgICA8L2J1dHRvbj5cclxuICAgICAgPC9kaXY+XHJcblxyXG4gICAgICB7YWN0aXZlVGFiID09PSAndXNlcnMnICYmIChcclxuICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cImJnLXdoaXRlIHJvdW5kZWQteGwgc2hhZG93LXNtIGJvcmRlciBib3JkZXItZ3JheS0xMDAgZmxleC0xIGZsZXggZmxleC1jb2wgb3ZlcmZsb3ctaGlkZGVuXCI+XHJcbiAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cInAtNCBib3JkZXItYiBib3JkZXItZ3JheS0xMDAgZmxleCBnYXAtNCBqdXN0aWZ5LWJldHdlZW4gaXRlbXMtY2VudGVyXCI+XHJcbiAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwicmVsYXRpdmUgZmxleC0xIG1heC13LW1kXCI+XHJcbiAgICAgICAgICAgICAgPFNlYXJjaCBjbGFzc05hbWU9XCJhYnNvbHV0ZSBsZWZ0LTMgdG9wLTEvMiAtdHJhbnNsYXRlLXktMS8yIHRleHQtZ3JheS00MDBcIiBzaXplPXsyMH0gLz5cclxuICAgICAgICAgICAgICA8aW5wdXRcclxuICAgICAgICAgICAgICAgIHR5cGU9XCJ0ZXh0XCJcclxuICAgICAgICAgICAgICAgIHBsYWNlaG9sZGVyPVwiQnVzY2FyIHVzdWFyaW9zLi4uXCJcclxuICAgICAgICAgICAgICAgIHZhbHVlPXtzZWFyY2hUZXJtfVxyXG4gICAgICAgICAgICAgICAgb25DaGFuZ2U9eyhlKSA9PiBzZXRTZWFyY2hUZXJtKGUudGFyZ2V0LnZhbHVlKX1cclxuICAgICAgICAgICAgICAgIGNsYXNzTmFtZT1cInctZnVsbCBwbC0xMCBwci00IHB5LTIgYm9yZGVyIGJvcmRlci1ncmF5LTIwMCByb3VuZGVkLWxnIGZvY3VzOm91dGxpbmUtbm9uZSBmb2N1czpyaW5nLTIgZm9jdXM6cmluZy1pbmRpZ28tNTAwXCJcclxuICAgICAgICAgICAgICAvPlxyXG4gICAgICAgICAgICA8L2Rpdj5cclxuICAgICAgICAgICAgPGJ1dHRvblxyXG4gICAgICAgICAgICAgIG9uQ2xpY2s9eygpID0+IG5hdmlnYXRlKCcvdXN1YXJpb3MvbnVldm8nKX1cclxuICAgICAgICAgICAgICBjbGFzc05hbWU9XCJmbGV4IGl0ZW1zLWNlbnRlciBnYXAtMiBweC00IHB5LTIgYmctaW5kaWdvLTYwMCB0ZXh0LXdoaXRlIHJvdW5kZWQtbGcgaG92ZXI6YmctaW5kaWdvLTcwMCB0cmFuc2l0aW9uLWNvbG9yc1wiXHJcbiAgICAgICAgICAgID5cclxuICAgICAgICAgICAgICA8UGx1cyBzaXplPXsyMH0gLz5cclxuICAgICAgICAgICAgICBOdWV2byBVc3VhcmlvXHJcbiAgICAgICAgICAgIDwvYnV0dG9uPlxyXG4gICAgICAgICAgPC9kaXY+XHJcblxyXG4gICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJvdmVyZmxvdy15LWF1dG8gZmxleC0xXCI+XHJcbiAgICAgICAgICAgIDx0YWJsZSBjbGFzc05hbWU9XCJ3LWZ1bGwgdGV4dC1sZWZ0IGJvcmRlci1jb2xsYXBzZVwiPlxyXG4gICAgICAgICAgICAgIDx0aGVhZCBjbGFzc05hbWU9XCJiZy1ncmF5LTUwIHN0aWNreSB0b3AtMCB6LTEwXCI+XHJcbiAgICAgICAgICAgICAgICA8dHI+XHJcbiAgICAgICAgICAgICAgICAgIDx0aCBjbGFzc05hbWU9XCJweC02IHB5LTMgdGV4dC14cyBmb250LW1lZGl1bSB0ZXh0LWdyYXktNTAwIHVwcGVyY2FzZSB0cmFja2luZy13aWRlclwiPlVzdWFyaW88L3RoPlxyXG4gICAgICAgICAgICAgICAgICA8dGggY2xhc3NOYW1lPVwicHgtNiBweS0zIHRleHQteHMgZm9udC1tZWRpdW0gdGV4dC1ncmF5LTUwMCB1cHBlcmNhc2UgdHJhY2tpbmctd2lkZXJcIj5Sb2xlczwvdGg+XHJcbiAgICAgICAgICAgICAgICAgIDx0aCBjbGFzc05hbWU9XCJweC02IHB5LTMgdGV4dC14cyBmb250LW1lZGl1bSB0ZXh0LWdyYXktNTAwIHVwcGVyY2FzZSB0cmFja2luZy13aWRlclwiPkVzdGFkbzwvdGg+XHJcbiAgICAgICAgICAgICAgICAgIDx0aCBjbGFzc05hbWU9XCJweC02IHB5LTMgdGV4dC14cyBmb250LW1lZGl1bSB0ZXh0LWdyYXktNTAwIHVwcGVyY2FzZSB0cmFja2luZy13aWRlclwiPsOabHRpbW8gQWNjZXNvPC90aD5cclxuICAgICAgICAgICAgICAgICAgPHRoIGNsYXNzTmFtZT1cInB4LTYgcHktMyB0ZXh0LXhzIGZvbnQtbWVkaXVtIHRleHQtZ3JheS01MDAgdXBwZXJjYXNlIHRyYWNraW5nLXdpZGVyIHRleHQtcmlnaHRcIj5BY2Npb25lczwvdGg+XHJcbiAgICAgICAgICAgICAgICA8L3RyPlxyXG4gICAgICAgICAgICAgIDwvdGhlYWQ+XHJcbiAgICAgICAgICAgICAgPHRib2R5IGNsYXNzTmFtZT1cImRpdmlkZS15IGRpdmlkZS1ncmF5LTEwMFwiPlxyXG4gICAgICAgICAgICAgICAge2lzTG9hZGluZyA/IChcclxuICAgICAgICAgICAgICAgICAgPHRyPlxyXG4gICAgICAgICAgICAgICAgICAgIDx0ZCBjb2xTcGFuPXs1fSBjbGFzc05hbWU9XCJweC02IHB5LTggdGV4dC1jZW50ZXIgdGV4dC1ncmF5LTUwMFwiPkNhcmdhbmRvIHVzdWFyaW9zLi4uPC90ZD5cclxuICAgICAgICAgICAgICAgICAgPC90cj5cclxuICAgICAgICAgICAgICAgICkgOiBmaWx0ZXJlZFVzZXJzLmxlbmd0aCA9PT0gMCA/IChcclxuICAgICAgICAgICAgICAgICAgPHRyPlxyXG4gICAgICAgICAgICAgICAgICAgIDx0ZCBjb2xTcGFuPXs1fSBjbGFzc05hbWU9XCJweC02IHB5LTggdGV4dC1jZW50ZXIgdGV4dC1ncmF5LTUwMFwiPk5vIHNlIGVuY29udHJhcm9uIHVzdWFyaW9zPC90ZD5cclxuICAgICAgICAgICAgICAgICAgPC90cj5cclxuICAgICAgICAgICAgICAgICkgOiAoXHJcbiAgICAgICAgICAgICAgICAgIGZpbHRlcmVkVXNlcnMubWFwKCh1c2VyKSA9PiAoXHJcbiAgICAgICAgICAgICAgICAgICAgPHRyIGtleT17dXNlci5pZH0gY2xhc3NOYW1lPVwiaG92ZXI6YmctZ3JheS01MCB0cmFuc2l0aW9uLWNvbG9yc1wiPlxyXG4gICAgICAgICAgICAgICAgICAgICAgPHRkIGNsYXNzTmFtZT1cInB4LTYgcHktNCB3aGl0ZXNwYWNlLW5vd3JhcFwiPlxyXG4gICAgICAgICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cImZsZXggaXRlbXMtY2VudGVyIGdhcC0zXCI+XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJwLTIgcm91bmRlZC1mdWxsIGJnLWluZGlnby01MCB0ZXh0LWluZGlnby02MDBcIj5cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxVc2VySWNvbiBzaXplPXsyMH0gLz5cclxuICAgICAgICAgICAgICAgICAgICAgICAgICA8L2Rpdj5cclxuICAgICAgICAgICAgICAgICAgICAgICAgICA8ZGl2PlxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJmb250LW1lZGl1bSB0ZXh0LWdyYXktOTAwXCI+e3VzZXIuZnVsbE5hbWV9PC9kaXY+XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cInRleHQtc20gdGV4dC1ncmF5LTUwMFwiPnt1c2VyLmVtYWlsfTwvZGl2PlxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgIDwvZGl2PlxyXG4gICAgICAgICAgICAgICAgICAgICAgICA8L2Rpdj5cclxuICAgICAgICAgICAgICAgICAgICAgIDwvdGQ+XHJcbiAgICAgICAgICAgICAgICAgICAgICA8dGQgY2xhc3NOYW1lPVwicHgtNiBweS00XCI+XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwiZmxleCBmbGV4LXdyYXAgZ2FwLTFcIj5cclxuICAgICAgICAgICAgICAgICAgICAgICAgICB7dXNlci5yb2xlcy5tYXAoKHJvbGUsIGluZGV4KSA9PiAoXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICA8c3BhbiBrZXk9e2luZGV4fSBjbGFzc05hbWU9XCJweC0yIHB5LTEgdGV4dC14cyBmb250LW1lZGl1bSBiZy1ncmF5LTEwMCB0ZXh0LWdyYXktNjAwIHJvdW5kZWQtZnVsbFwiPlxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICB7cm9sZX1cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIDwvc3Bhbj5cclxuICAgICAgICAgICAgICAgICAgICAgICAgICApKX1cclxuICAgICAgICAgICAgICAgICAgICAgICAgPC9kaXY+XHJcbiAgICAgICAgICAgICAgICAgICAgICA8L3RkPlxyXG4gICAgICAgICAgICAgICAgICAgICAgPHRkIGNsYXNzTmFtZT1cInB4LTYgcHktNCB3aGl0ZXNwYWNlLW5vd3JhcFwiPlxyXG4gICAgICAgICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT17YGZsZXggaXRlbXMtY2VudGVyIGdhcC0xLjUgdGV4dC1zbSAke3VzZXIuaXNBY3RpdmUgPyAndGV4dC1ncmVlbi02MDAnIDogJ3RleHQtcmVkLTYwMCd9YH0+XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAge3VzZXIuaXNBY3RpdmUgPyA8Q2hlY2tDaXJjbGUgc2l6ZT17MTZ9IC8+IDogPFhDaXJjbGUgc2l6ZT17MTZ9IC8+fVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgIHt1c2VyLmlzQWN0aXZlID8gJ0FjdGl2bycgOiAnSW5hY3Rpdm8nfVxyXG4gICAgICAgICAgICAgICAgICAgICAgICA8L2Rpdj5cclxuICAgICAgICAgICAgICAgICAgICAgIDwvdGQ+XHJcbiAgICAgICAgICAgICAgICAgICAgICA8dGQgY2xhc3NOYW1lPVwicHgtNiBweS00IHdoaXRlc3BhY2Utbm93cmFwIHRleHQtc20gdGV4dC1ncmF5LTUwMFwiPlxyXG4gICAgICAgICAgICAgICAgICAgICAgICB7dXNlci5sYXN0TG9naW4gPyBuZXcgRGF0ZSh1c2VyLmxhc3RMb2dpbikudG9Mb2NhbGVEYXRlU3RyaW5nKCkgOiAnTnVuY2EnfVxyXG4gICAgICAgICAgICAgICAgICAgICAgPC90ZD5cclxuICAgICAgICAgICAgICAgICAgICAgIDx0ZCBjbGFzc05hbWU9XCJweC02IHB5LTQgd2hpdGVzcGFjZS1ub3dyYXAgdGV4dC1yaWdodFwiPlxyXG4gICAgICAgICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cImZsZXggaXRlbXMtY2VudGVyIGp1c3RpZnktZW5kIGdhcC0yXCI+XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgPGJ1dHRvblxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgb25DbGljaz17KCkgPT4gbmF2aWdhdGUoYC91c3Vhcmlvcy9lZGl0YXIvJHt1c2VyLmlkfWApfVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgY2xhc3NOYW1lPVwicC0yIHRleHQtZ3JheS00MDAgaG92ZXI6dGV4dC1pbmRpZ28tNjAwIGhvdmVyOmJnLWluZGlnby01MCByb3VuZGVkLWxnIHRyYW5zaXRpb24tY29sb3JzXCJcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRpdGxlPVwiRWRpdGFyXCJcclxuICAgICAgICAgICAgICAgICAgICAgICAgICA+XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICA8RWRpdCBzaXplPXsxOH0gLz5cclxuICAgICAgICAgICAgICAgICAgICAgICAgICA8L2J1dHRvbj5cclxuICAgICAgICAgICAgICAgICAgICAgICAgICA8YnV0dG9uXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBvbkNsaWNrPXsoKSA9PiBoYW5kbGVEZWxldGUodXNlci5pZCl9XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBjbGFzc05hbWU9XCJwLTIgdGV4dC1ncmF5LTQwMCBob3Zlcjp0ZXh0LXJlZC02MDAgaG92ZXI6YmctcmVkLTUwIHJvdW5kZWQtbGcgdHJhbnNpdGlvbi1jb2xvcnNcIlxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdGl0bGU9XCJFbGltaW5hclwiXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgPlxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgPFRyYXNoMiBzaXplPXsxOH0gLz5cclxuICAgICAgICAgICAgICAgICAgICAgICAgICA8L2J1dHRvbj5cclxuICAgICAgICAgICAgICAgICAgICAgICAgPC9kaXY+XHJcbiAgICAgICAgICAgICAgICAgICAgICA8L3RkPlxyXG4gICAgICAgICAgICAgICAgICAgIDwvdHI+XHJcbiAgICAgICAgICAgICAgICAgICkpXHJcbiAgICAgICAgICAgICAgICApfVxyXG4gICAgICAgICAgICAgIDwvdGJvZHk+XHJcbiAgICAgICAgICAgIDwvdGFibGU+XHJcbiAgICAgICAgICA8L2Rpdj5cclxuICAgICAgICA8L2Rpdj5cclxuICAgICAgKX1cclxuICAgIDwvZGl2PlxyXG4gICk7XHJcbn07XHJcblxyXG5leHBvcnQgZGVmYXVsdCBTaXRlVXNlcnNQYWdlO1xyXG4iXSwiZmlsZSI6IkQ6L1Byb3llY3RzL2VtcGx5eC9FbXBseXguU2l0ZS9zcmMvcGFnZXMvdXNlcnMvU2l0ZVVzZXJzUGFnZS50c3gifQ==