{
  "version": "2.0.0",
  "tasks": [
    {
      "label": "build",
      "command": "dotnet",
      "type": "process",
      "args": [
        "build",
        "${workspaceFolder}/Emplyx.WebApp/Emplyx.WebApp.csproj",
        "-c",
        "Debug"
      ],
      "problemMatcher": ["$msCompile"],
      "group": {
        "kind": "build",
        "isDefault": true
      }
    },
    {
      "label": "kill-port-5001",
      "type": "shell",
      "command": "powershell",
      "args": [
        "-NoProfile",
        "-ExecutionPolicy",
        "Bypass",
        "-Command",
        "$pids = (netstat -ano | Select-String ':5001 ' | ForEach-Object { ($_ -split '\\s+')[-1] } | Sort-Object -Unique); if ($pids) { $pids | ForEach-Object { Try { Stop-Process -Id $_ -Force -ErrorAction SilentlyContinue; Write-Output \"Killed PID $_\" } Catch { Write-Output \"Could not kill PID $_\" } } } else { Write-Output 'No process listening on :5001' }"
      ],
      "presentation": {
        "echo": true,
        "reveal": "always",
        "panel": "shared"
      }
    },
    {
      "label": "run-emplyx-https",
      "type": "shell",
      "command": "dotnet",
      "args": [
        "run",
        "--project",
        "${workspaceFolder}/Emplyx.WebApp/Emplyx.WebApp.csproj",
        "-c",
        "Debug",
        "--urls",
        "https://localhost:5001"
      ],
      "dependsOn": ["kill-port-5001"],
      "presentation": {
        "echo": true,
        "reveal": "always",
        "panel": "new"
      }
    }
  ]
}
