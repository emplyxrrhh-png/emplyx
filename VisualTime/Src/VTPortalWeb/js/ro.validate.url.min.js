(function(){var n=function(n){for(var r=n.split("."),i=window,t=0;t<r.length;t+=1)i=i[r[t]]=i[r[t]]||{};return i};n("Robotics.Client.ValidateURL")})();Robotics.Client.ValidateURL=function(){};Robotics.Client.ValidateURL.prototype.checkRuntimeURLforClient=function(n,t){var i=n+"/Portalsvcx.svc/isAdfsActive",r={};return new Promise(n=>{$.ajax({url:i,type:"GET",data:r,timeout:2e3,contentType:"application/json; charset=utf-8",dataType:"json",processdata:!0,headers:{roAuth:VTPortal.roApp.guidToken,roToken:VTPortal.roApp.securityToken,roAlias:VTPortal.roApp.getImpToken(),roSrc:VTPortal.roApp.isRemoteEnvironment(),roCompanyID:t,roApp:"VTPortal"},xhrFields:{withCredentials:!0},success:function(t){t.d.Status==0?n(!0):n(!1)},error:function(){n(!1)}})})};Robotics.Client.ValidateURL.prototype.getURLforClient=async function(n,t,i){var s={valid:!1,isMT:!1,url:"notValid",ssoURL:"",companyId:n,defURL:t,defSSL:!0},f=t,c="",o=!0,l,h,a,e;if(window.document.URL.indexOf("localhost:8035")>=0&&o)if(l=n.split("-"),h="",l.length>1&&(n=l[0],h=l[1]),h=="")f="http://localhost:8035",c="http://localhost:8025",e=await this.checkRuntimeURLforClient(f+"/api",n),e&&(o=!1,s={valid:!0,isMT:!0,url:f+"/api/Portalsvcx.svc",ssoURL:c,companyId:n,defURL:t,defSSL:!1});else{var r="",u="",v=!0;switch(h){case"qa":r="https://qa-vtportal.visualtime.net";u="https://qa-vtlive.visualtime.net";break;case"dev":r="https://dev-devvtportal.visualtime.net";u="https://dev-devvtlive.visualtime.net";break;case"stage":r="https://staging-vtportal.visualtime.net";u="https://staging-vtlive.visualtime.net";break;case"idi01":r="https://vtportaldev-idi01.azurewebsites.net";u="https://vtlivedev-idi01.azurewebsites.net";break;case"idi02":r="https://vtportaldev-idi02.azurewebsites.net";u="https://vtlivedev-idi02.azurewebsites.net";break;case"idi03":r="https://vtportaldev-idi03.azurewebsites.net";u="https://vtlivedev-idi03.azurewebsites.net";break;case"idi04":r="https://vtportaldev-idi04.azurewebsites.net";u="https://vtlivedev-idi04.azurewebsites.net";break;case"idi05":r="https://vtportaldev-idi05.azurewebsites.net";u="https://vtlivedev-idi05.azurewebsites.net";break;case"idi06":r="https://vtportaldev-idi06.azurewebsites.net";u="https://vtlivedev-idi06.azurewebsites.net";break;case"idi07":r="https://vtportaldev-idi07.azurewebsites.net";u="https://vtlivedev-idi07.azurewebsites.net";break;case"cegid":r="https://vtportalidi.azurewebsites.net";u="https://vtliveidi.azurewebsites.net";break;case"beta":r="https://vtportalidi-stage.azurewebsites.net";u="https://vtportalidi-stage.azurewebsites.net";break;default:v=!1;r="";u=""}e=await this.checkRuntimeURLforClient(r+"/api",n);e&&(o=!1,s={valid:!0,isMT:!0,url:r+"/api/Portalsvcx.svc",ssoURL:u,companyId:n+"-"+h,defURL:t,defSSL:!0})}if(o&&n!=""&&n!="localhost")if(i){l=n.split("-");h="";l.length>1&&(n=l[0],h=l[1]);var r="",u="",v=!0;switch(h){case"qa":r="https://qa-vtportal.visualtime.net";u="https://qa-vtlive.visualtime.net";break;case"dev":r="https://dev-devvtportal.visualtime.net";u="https://dev-devvtlive.visualtime.net";break;case"stage":r="https://staging-vtportal.visualtime.net";u="https://staging-vtlive.visualtime.net";break;case"idi01":r="https://vtportaldev-idi01.azurewebsites.net";u="https://vtlivedev-idi01.azurewebsites.net";break;case"idi02":r="https://vtportaldev-idi02.azurewebsites.net";u="https://vtlivedev-idi02.azurewebsites.net";break;case"idi03":r="https://vtportaldev-idi03.azurewebsites.net";u="https://vtlivedev-idi03.azurewebsites.net";break;case"idi04":r="https://vtportaldev-idi04.azurewebsites.net";u="https://vtlivedev-idi04.azurewebsites.net";break;case"idi05":r="https://vtportaldev-idi05.azurewebsites.net";u="https://vtlivedev-idi05.azurewebsites.net";break;case"idi06":r="https://vtportaldev-idi06.azurewebsites.net";u="https://vtlivedev-idi06.azurewebsites.net";break;case"idi07":r="https://vtportaldev-idi07.azurewebsites.net";u="https://vtlivedev-idi07.azurewebsites.net";break;case"cegid":r="https://vtportalidi.azurewebsites.net";u="https://vtliveidi.azurewebsites.net";break;case"beta":r="https://vtportalidi-stage.azurewebsites.net";u="https://vtportalidi-stage.azurewebsites.net";break;default:v=!1;r="";u=""}v?(e=await this.checkRuntimeURLforClient(r+"/api",n),e&&(o=!1,s={valid:!0,isMT:!0,url:r+"/api/Portalsvcx.svc",ssoURL:u,companyId:n+"-"+h,defURL:t,defSSL:!0})):(e=await this.checkRuntimeURLforClient("https://vtportal.visualtime.net/api",n),e&&(o=!1,s={valid:!0,isMT:!0,url:"https://vtportal.visualtime.net/api/Portalsvcx.svc",ssoURL:"https://vtlive.visualtime.net",companyId:n,defURL:t,defSSL:!0}),o&&(e=await this.checkRuntimeURLforClient("https://portal.visualtime.net/api",n),e&&(o=!1,s={valid:!0,isMT:!0,url:"https://portal.visualtime.net/api/Portalsvcx.svc",ssoURL:"https://live.visualtime.net",companyId:n,defURL:t,defSSL:!0})))}else r="",u=window.location.origin.replace("portal","live"),e=await this.checkRuntimeURLforClient(r+"/api",n),e&&(o=!1,s={valid:!0,isMT:!0,url:r+"/api/Portalsvcx.svc",ssoURL:u,companyId:n,defURL:t,defSSL:!0});return o&&(f=t==""?n:t,f=f.replace(".visualtime.net",""),f.indexOf(":")>0&&(f=f.substring(0,f.indexOf(":"))),a=f,f="https://"+a+".visualtime.net/VTLiveApi",c="https://"+a+".visualtime.net/VTLive",e=await this.checkRuntimeURLforClient(f+"/Portal",""),e&&(o=!1,s={valid:!0,isMT:!1,url:f+"/Portal/Portalsvcx.svc",ssoURL:c,companyId:"",defURL:t,defSSL:!0})),o&&(f=t==""?n:t,a=f,f="https://"+a+"/VTLiveApi",c="https://"+a+"/VTLive",e=await this.checkRuntimeURLforClient(f+"/Portal",""),e&&(o=!1,s={valid:!0,isMT:!1,url:f+"/Portal/Portalsvcx.svc",ssoURL:c,companyId:"",defURL:t,defSSL:!0}),o&&(f="http://"+a+"/VTLiveApi",c="http://"+a+"/VTLive",e=await this.checkRuntimeURLforClient(f+"/Portal",""),e&&(o=!1,s={valid:!0,isMT:!1,url:f+"/Portal/Portalsvcx.svc",ssoURL:c,companyId:"",defURL:t,defSSL:!1}))),o&&(s={valid:!1,isMT:!1,url:"notValid",ssoURL:"notValid",companyId:"",defURL:t,defSSL:!0}),s};