(function(n,t){"use strict";if(typeof t=="undefined"||typeof t.tz=="undefined")throw new Error("DateManager requires moment.js and moment-timezone.js to be loaded first.");class i{#momentObj;timezone;constructor(n,r){if(this.timezone=r||t.tz.guess(),this.#momentObj=n instanceof i?t(n.toDate()).tz(this.timezone):t(n).tz(this.timezone),!this.#momentObj.isValid())throw new Error("Fecha de entrada no válida.");}add(n,t){const r=this.#momentObj.clone().add(n,t);return new i(r,this.timezone)}subtract(n,t){const r=this.#momentObj.clone().subtract(n,t);return new i(r,this.timezone)}startOf(n){const t=this.#momentObj.clone().startOf(n);return new i(t,this.timezone)}endOf(n){const t=this.#momentObj.clone().endOf(n);return new i(t,this.timezone)}format(n="YYYY-MM-DD HH:mm:ss"){return this.#momentObj.format(n)}fromNow(){return this.#momentObj.fromNow()}diff(n,t,r=false){if(!(n instanceof i))throw new Error("El argumento debe ser una instancia de DateManager.");return this.#momentObj.diff(n.toMoment(),t,r)}toDate(){return this.#momentObj.toDate()}toISOString(n){return this.#momentObj.toISOString(n)}toMoment(){return this.#momentObj}toTimezone(n,r){if(typeof r!="undefined"){if(!t.tz.zone(n))return console.warn(`Timezone "${n}" no es válida. No se realizó el cambio.`),this;const r=this.#momentObj.clone().tz(n,!0);return new i(r,n)}else{if(!t.tz.zone(n))return console.warn(`Timezone "${n}" no es válida. No se realizó la conversión.`),this;const r=this.#momentObj.clone().tz(n);return new i(r,n)}}toUTC(n){return this.toTimezone("UTC",n)}}n.DateManager=i})(window,window.moment);