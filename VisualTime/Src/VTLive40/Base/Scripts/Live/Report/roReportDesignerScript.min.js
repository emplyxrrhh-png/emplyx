let editReportDescription;(function(){let t,n;editReportDescription=async()=>{const o=await f();if(o){const s=await u("editReportDescription"),t=document.createElement("div");t.setAttribute("id","fieldsEditor");t.innerHTML=s;document.querySelector("#divReportDesigner").appendChild(t);t.style.display="block";const e=document.querySelector("textarea#descriptionEdition");e.value=n.Description;e.addEventListener("change",()=>{n.Description=e.value});t.querySelector(".editBtn > span#acceptEdition").addEventListener("click",i);t.querySelector(".editBtn > span#cancelEdition").addEventListener("click",r)}};const i=async()=>{const t=await e(n);t?document.querySelector("#fieldsEditor").remove():DevExpress.ui.dialog.alert("algo ha ido mal al intentar guardar los datos","Guardando Descripción")},r=async()=>{document.querySelector("#fieldsEditor").remove()},u=async(n="editReportDescription")=>{let t;return await $.ajax({url:`${BASE_URL}Report/GetViewTemplate`,data:{templateName:n,idReport:0},type:"POST",dataType:"text",success:n=>t=n,error:n=>console.error(n)}),t},f=async()=>{const i=window.parent.document.querySelector("#ifPrincipal").getAttribute("src"),r=i.substring(i.lastIndexOf("/")+1);return r?(await $.ajax({url:"/Report/GetReportByIdAsJson",data:{reportId:r},type:"POST",dataType:"json",success:n=>t=n,error:n=>console.error(n)}),n={...t},window.currentReportData=t,!0):(DevExpress.ui.dialog.alert("Solo se puede editar la descripción una vez creado el informe","Editar Descripción"),!1)},e=async(n,t="report")=>{const r=JSON.stringify(n);let i;return await $.ajax({url:"/Report/SaveReportInfo",data:{reportData:r,flag:t},type:"POST",dataType:"text",success:n=>i=n,error:n=>console.error(n)}),i==="True"}})();